// Translations dictionary - updated with corrected translations
const TRANSLATIONS = {
    en: {
        ready_to_connect: "Ready to connect",
        connected_waiting: "Connected - Waiting for data",
        connected_fps: "Connected - FPS: {fps}",
        connected_no_data: "Connected - No data",
        disconnected: "Disconnected",
        connect: "Connect",
        disconnect: "Disconnect",
        help_title: "Keyboard Controls",
        display_controls: "Display Controls",
        color_controls: "Screen color", 
        other_controls: "Other",
        screenshot_desc: "Take a screenshot and download it",
        lcd_desc: "Toggle LCD pixel effect for realistic display",
        invert_desc: "Invert foreground and background colors",
        pixel_size_desc: "Increase/decrease pixel size (1-10)",
        grey_scheme: "Switch to grey screen",
        orange_scheme: "Switch to orange screen",
        blue_scheme: "Switch to blue screen",
        white_scheme: "Switch to white screen",
        quit_desc: "Disconnect from the K5",
        serial_established: "Serial connection established",
        disconnected_success: "Successfully disconnected",
        screenshot_saved: "Screenshot saved: {filename}",
        pixel_size: "Pixel size: {size}",
        lcd_effect: "LCD effect: {status}",
        lcd_on: "On",
        lcd_off: "Off",
        colors_inverted: "Colors inverted",
        color_changed: "Color: {color}",
        color_grey: "Grey",
        color_orange: "Orange",
        color_blue: "Blue",
        color_white: "White",
        connection_error: "Connection error: {error}",
        disconnection_error: "Disconnection error: {error}",
        serial_read_error: "Serial read error",
        web_serial_not_supported: "Web Serial API not supported. Use Chrome 89+ or Edge 89+",
        app_loaded: "Application loaded. Click \"Connect\" to start.",
        help: "Help",
        toggle_theme: "Toggle theme"
    },

    fr: {
        ready_to_connect: "Prêt à se connecter",
        connected_waiting: "Connecté - En attente de données",
        connected_fps: "Connecté - IPS : {fps}",
        connected_no_data: "Connecté - Aucune donnée",
        disconnected: "Déconnecté",
        connect: "Connexion",
        disconnect: "Déconnexion",
        help_title: "Contrôles clavier",
        display_controls: "Affichage",
        color_controls: "Couleur de l'écran",
        other_controls: "Autre",
        screenshot_desc: "Faire une capture d’écran et la télécharger",
        lcd_desc: "Activer l'effet LCD pour un affichage réaliste",
        invert_desc: "Inverser les couleurs de premier plan et d’arrière-plan",
        pixel_size_desc: "Ajuster la taille des pixels (1 à 10)",
        grey_scheme: "Passer à l'écran gris",
        orange_scheme: "Passer à l'écran orange",
        blue_scheme: "Passer à l'écran bleu",
        white_scheme: "Passer à l'écran blanc",
        quit_desc: "Déconnecter le K5",
        serial_established: "Connexion série établie",
        disconnected_success: "Déconnexion réussie",
        screenshot_saved: "Capture enregistrée : {filename}",
        pixel_size: "Taille des pixels : {size}",
        lcd_effect: "Effet LCD : {status}",
        lcd_on: "Activé",
        lcd_off: "Désactivé",
        colors_inverted: "Couleurs inversées",
        color_changed: "Couleur : {color}",
        color_grey: "Gris",
        color_orange: "Orange",
        color_blue: "Bleu",
        color_white: "Blanc",
        connection_error: "Erreur de connexion : {error}",
        disconnection_error: "Erreur de déconnexion : {error}",
        serial_read_error: "Erreur de lecture série",
        web_serial_not_supported: "API Web Serial non supportée. Utilisez Chrome 89+ ou Edge 89+",
        app_loaded: "Application chargée. Cliquez sur « Connexion » pour commencer.",
        help: "Aide",
        toggle_theme: "Changer le thème"
    },

    it: {
        ready_to_connect: "Pronto per connettersi",
        connected_waiting: "Connesso - In attesa di dati",
        connected_fps: "Connesso - FPS: {fps}",
        connected_no_data: "Connesso - Nessun dato",
        disconnected: "Disconnesso",
        connect: "Connetti",
        disconnect: "Disconnetti",
        help_title: "Controlli da tastiera",
        display_controls: "Controlli di visualizzazione",
        color_controls: "Colore dello schermo",
        other_controls: "Altro",
        screenshot_desc: "Cattura uno screenshot e scaricalo",
        lcd_desc: "Attiva effetto LCD per un display realistico",
        invert_desc: "Inverti i colori di primo piano e sfondo",
        pixel_size_desc: "Modifica la dimensione dei pixel (1-10)",
        grey_scheme: "Passa allo schermo grigio",
        orange_scheme: "Passa allo schermo arancione",
        blue_scheme: "Passa allo schermo blu",
        white_scheme: "Passa allo schermo bianco",
        quit_desc: "Disconnetti dal K5",
        serial_established: "Connessione seriale stabilita",
        disconnected_success: "Disconnessione riuscita",
        screenshot_saved: "Screenshot salvato: {filename}",
        pixel_size: "Dimensione pixel: {size}",
        lcd_effect: "Effetto LCD: {status}",
        lcd_on: "Attivo",
        lcd_off: "Disattivo",
        colors_inverted: "Colori invertiti",
        color_changed: "Colore: {color}",
        color_grey: "Grigio",
        color_orange: "Arancione",
        color_blue: "Blu",
        color_white: "Bianco",
        connection_error: "Errore di connessione: {error}",
        disconnection_error: "Errore di disconnessione: {error}",
        serial_read_error: "Errore lettura seriale",
        web_serial_not_supported: "Web Serial API non supportata. Usa Chrome 89+ o Edge 89+",
        app_loaded: "Applicazione caricata. Clicca su \"Connetti\" per iniziare.",
        help: "Aiuto",
        toggle_theme: "Cambia tema"
    },

    es: {
        ready_to_connect: "Listo para conectar",
        connected_waiting: "Conectado - Esperando datos",
        connected_fps: "Conectado - FPS: {fps}",
        connected_no_data: "Conectado - Sin datos",
        disconnected: "Desconectado",
        connect: "Conectar",
        disconnect: "Desconectar",
        help_title: "Controles del teclado",
        display_controls: "Controles de pantalla",
        color_controls: "Color de pantalla",
        other_controls: "Otros",
        screenshot_desc: "Tomar una captura y descargarla",
        lcd_desc: "Activar efecto LCD para una visualización realista",
        invert_desc: "Invertir colores de fondo y primer plano",
        pixel_size_desc: "Ajustar tamaño de píxel (1-10)",
        grey_scheme: "Cambiar a pantalla gris",
        orange_scheme: "Cambiar a pantalla naranja",
        blue_scheme: "Cambiar a pantalla azul",
        white_scheme: "Cambiar a pantalla blanca",
        quit_desc: "Desconectar del K5",
        serial_established: "Conexión serie establecida",
        disconnected_success: "Desconectado correctamente",
        screenshot_saved: "Captura guardada: {filename}",
        pixel_size: "Tamaño de píxel: {size}",
        lcd_effect: "Efecto LCD: {status}",
        lcd_on: "Activado",
        lcd_off: "Desactivado",
        colors_inverted: "Colores invertidos",
        color_changed: "Color: {color}",
        color_grey: "Gris",
        color_orange: "Naranja",
        color_blue: "Azul",
        color_white: "Blanco",
        connection_error: "Error de conexión: {error}",
        disconnection_error: "Error al desconectar: {error}",
        serial_read_error: "Error de lectura serial",
        web_serial_not_supported: "Web Serial API no compatible. Usa Chrome 89+ o Edge 89+",
        app_loaded: "Aplicación cargada. Haz clic en «Conectar» para comenzar.",
        help: "Ayuda",
        toggle_theme: "Cambiar tema"
    },

    de: {
        ready_to_connect: "Bereit zur Verbindung",
        connected_waiting: "Verbunden – Warte auf Daten",
        connected_fps: "Verbunden – FPS: {fps}",
        connected_no_data: "Verbunden – Keine Daten",
        disconnected: "Getrennt",
        connect: "Verbinden",
        disconnect: "Trennen",
        help_title: "Tastatursteuerung",
        display_controls: "Anzeigeoptionen",
        color_controls: "Bildschirmfarbe",
        other_controls: "Sonstiges",
        screenshot_desc: "Screenshot aufnehmen und herunterladen",
        lcd_desc: "LCD-Effekt für realistische Anzeige umschalten",
        invert_desc: "Vorder- und Hintergrundfarben umkehren",
        pixel_size_desc: "Pixelgröße ändern (1–10)",
        grey_scheme: "Zum grauen Bildschirm wechseln",
        orange_scheme: "Zum orangen Bildschirm wechseln",
        blue_scheme: "Zum blauen Bildschirm wechseln",
        white_scheme: "Zum weißen Bildschirm wechseln",
        quit_desc: "Vom K5 trennen",
        serial_established: "Serielle Verbindung hergestellt",
        disconnected_success: "Erfolgreich getrennt",
        screenshot_saved: "Screenshot gespeichert: {filename}",
        pixel_size: "Pixelgröße: {size}",
        lcd_effect: "LCD-Effekt: {status}",
        lcd_on: "An",
        lcd_off: "Aus",
        colors_inverted: "Farben invertiert",
        color_changed: "Farbe: {color}",
        color_grey: "Grau",
        color_orange: "Orange",
        color_blue: "Blau",
        color_white: "Weiß",
        connection_error: "Verbindungsfehler: {error}",
        disconnection_error: "Trennungsfehler: {error}",
        serial_read_error: "Serieller Lesefehler",
        web_serial_not_supported: "Web Serial API wird nicht unterstützt. Verwenden Sie Chrome 89+ oder Edge 89+",
        app_loaded: "Anwendung geladen. Klicke auf „Verbinden“, um zu starten.",
        help: "Hilfe",
        toggle_theme: "Design wechseln"
    },

    pt: {
        ready_to_connect: "Pronto para conectar",
        connected_waiting: "Conectado - Aguardando dados",
        connected_fps: "Conectado - FPS: {fps}",
        connected_no_data: "Conectado - Sem dados",
        disconnected: "Desconectado",
        connect: "Conectar",
        disconnect: "Desconectar",
        help_title: "Controles do Teclado",
        display_controls: "Controles de Exibição",
        color_controls: "Cor da tela", 
        other_controls: "Outros",
        screenshot_desc: "Fazer uma captura de tela e baixar",
        lcd_desc: "Alternar efeito de pixels LCD para exibição realista",
        invert_desc: "Inverter as cores de fundo e de primeiro plano",
        pixel_size_desc: "Aumentar/diminuir o tamanho dos pixels (1-10)",
        grey_scheme: "Alternar para tela cinza",
        orange_scheme: "Alternar para tela laranja",
        blue_scheme: "Alternar para tela azul",
        white_scheme: "Alternar para tela branca",
        quit_desc: "Desconectar do K5",
        serial_established: "Conexão serial estabelecida",
        disconnected_success: "Desconectado com sucesso",
        screenshot_saved: "Captura de tela salva: {filename}",
        pixel_size: "Tamanho do pixel: {size}",
        lcd_effect: "Efeito LCD: {status}",
        lcd_on: "Ligado",
        lcd_off: "Desligado",
        colors_inverted: "Cores invertidas",
        color_changed: "Cor: {color}",
        color_grey: "Cinza",
        color_orange: "Laranja",
        color_blue: "Azul",
        color_white: "Branco",
        connection_error: "Erro de conexão: {error}",
        disconnection_error: "Erro de desconexão: {error}",
        serial_read_error: "Erro de leitura serial",
        web_serial_not_supported: "API Web Serial não suportada. Use Chrome 89+ ou Edge 89+",
        app_loaded: "Aplicativo carregado. Clique em \"Conectar\" para iniciar.",
        help: "Ajuda",
        toggle_theme: "Alternar tema"
    },
    
    ru: {
        ready_to_connect: "Готово к подключению",
        connected_waiting: "Подключено — ожидание данных",
        connected_fps: "Подключено — FPS: {fps}",
        connected_no_data: "Подключено — нет данных",
        disconnected: "Отключено",
        connect: "Подключить",
        disconnect: "Отключить",
        help_title: "Управление с клавиатуры",
        display_controls: "Настройки отображения",
        color_controls: "Цвет экрана", 
        other_controls: "Другое",
        screenshot_desc: "Сделать снимок экрана и сохранить",
        lcd_desc: "Включить/выключить эффект пикселей LCD для реалистичного отображения",
        invert_desc: "Инвертировать цвета переднего и заднего плана",
        pixel_size_desc: "Увеличить/уменьшить размер пикселей (1-10)",
        grey_scheme: "Переключить на серый экран",
        orange_scheme: "Переключить на оранжевый экран",
        blue_scheme: "Переключить на синий экран",
        white_scheme: "Переключить на белый экран",
        quit_desc: "Отключиться от K5",
        serial_established: "Серийное соединение установлено",
        disconnected_success: "Успешно отключено",
        screenshot_saved: "Снимок экрана сохранён: {filename}",
        pixel_size: "Размер пикселей: {size}",
        lcd_effect: "Эффект LCD: {status}",
        lcd_on: "Вкл",
        lcd_off: "Выкл",
        colors_inverted: "Цвета инвертированы",
        color_changed: "Цвет: {color}",
        color_grey: "Серый",
        color_orange: "Оранжевый",
        color_blue: "Синий",
        color_white: "Белый",
        connection_error: "Ошибка подключения: {error}",
        disconnection_error: "Ошибка отключения: {error}",
        serial_read_error: "Ошибка чтения порта",
        web_serial_not_supported: "Web Serial API не поддерживается. Используйте Chrome 89+ или Edge 89+",
        app_loaded: "Приложение загружено. Нажмите «Подключить», чтобы начать.",
        help: "Помощь",
        toggle_theme: "Сменить тему"
    },

    pl: {
        ready_to_connect: "Gotowy do połączenia",
        connected_waiting: "Połączono — oczekiwanie na dane",
        connected_fps: "Połączono — FPS: {fps}",
        connected_no_data: "Połączono — brak danych",
        disconnected: "Rozłączono",
        connect: "Połącz",
        disconnect: "Rozłącz",
        help_title: "Sterowanie klawiaturą",
        display_controls: "Ustawienia wyświetlacza",
        color_controls: "Kolor ekranu", 
        other_controls: "Inne",
        screenshot_desc: "Zrób zrzut ekranu i zapisz go",
        lcd_desc: "Włącz/wyłącz efekt pikseli LCD dla realistycznego wyświetlania",
        invert_desc: "Odwróć kolory tła i pierwszego planu",
        pixel_size_desc: "Zwiększ/zmniejsz rozmiar pikseli (1-10)",
        grey_scheme: "Przełącz na szary ekran",
        orange_scheme: "Przełącz na pomarańczowy ekran",
        blue_scheme: "Przełącz na niebieski ekran",
        white_scheme: "Przełącz na biały ekran",
        quit_desc: "Rozłącz z K5",
        serial_established: "Połączenie szeregowe nawiązane",
        disconnected_success: "Pomyślnie rozłączono",
        screenshot_saved: "Zrzut ekranu zapisany: {filename}",
        pixel_size: "Rozmiar pikseli: {size}",
        lcd_effect: "Efekt LCD: {status}",
        lcd_on: "Wł.",
        lcd_off: "Wył.",
        colors_inverted: "Kolory odwrócone",
        color_changed: "Kolor: {color}",
        color_grey: "Szary",
        color_orange: "Pomarańczowy",
        color_blue: "Niebieski",
        color_white: "Biały",
        connection_error: "Błąd połączenia: {error}",
        disconnection_error: "Błąd rozłączenia: {error}",
        serial_read_error: "Błąd odczytu portu",
        web_serial_not_supported: "Web Serial API nie jest obsługiwane. Użyj Chrome 89+ lub Edge 89+",
        app_loaded: "Aplikacja załadowana. Kliknij „Połącz”, aby rozpocząć.",
        help: "Pomoc",
        toggle_theme: "Zmień motyw"
    },
    
    zh: {
        ready_to_connect: "准备连接",
        connected_waiting: "已连接 - 等待数据",
        connected_fps: "已连接 - 帧率: {fps}",
        connected_no_data: "已连接 - 无数据",
        disconnected: "已断开",
        connect: "连接",
        disconnect: "断开连接",
        help_title: "键盘控制",
        display_controls: "显示控制",
        color_controls: "屏幕颜色",
        other_controls: "其他",
        screenshot_desc: "截图并下载",
        lcd_desc: "切换 LCD 像素效果以接近真实显示",
        invert_desc: "反转前景色和背景色",
        pixel_size_desc: "增加/减少像素大小 (1-10)",
        grey_scheme: "切换到灰色屏幕",
        orange_scheme: "切换到橙色屏幕",
        blue_scheme: "切换到蓝色屏幕",
        white_scheme: "切换到白色屏幕",
        quit_desc: "从 K5 断开连接",
        serial_established: "串口连接已建立",
        disconnected_success: "已成功断开连接",
        screenshot_saved: "截图已保存: {filename}",
        pixel_size: "像素大小: {size}",
        lcd_effect: "LCD 效果: {status}",
        lcd_on: "开启",
        lcd_off: "关闭",
        colors_inverted: "颜色已反转",
        color_changed: "颜色: {color}",
        color_grey: "灰色",
        color_orange: "橙色",
        color_blue: "蓝色",
        color_white: "白色",
        connection_error: "连接错误: {error}",
        disconnection_error: "断开连接错误: {error}",
        serial_read_error: "串口读取错误",
        web_serial_not_supported: "不支持 Web Serial API。请使用 Chrome 89+ 或 Edge 89+",
        app_loaded: "应用程序已加载。点击“连接”以开始。",
        help: "帮助",
        toggle_theme: "切换主题"
    },

    nl: {
        ready_to_connect: "Klaar om verbinding te maken",
        connected_waiting: "Verbonden - Wachten op gegevens",
        connected_fps: "Verbonden - FPS: {fps}",
        connected_no_data: "Verbonden - Geen gegevens",
        disconnected: "Verbinding verbroken",
        connect: "Verbinden",
        disconnect: "Verbinding verbreken",
        help_title: "Toetsenbordbediening",
        display_controls: "Beeldschermbediening",
        color_controls: "Schermkleur",
        other_controls: "Overig",
        screenshot_desc: "Maak een screenshot en download deze",
        lcd_desc: "Schakel het LCD-pixeleffect in/uit voor een realistische weergave",
        invert_desc: "Voorgrond- en achtergrondkleuren omkeren",
        pixel_size_desc: "Pixelgrootte vergroten/verkleinen (1-10)",
        grey_scheme: "Schakel over naar een grijs scherm",
        orange_scheme: "Schakel over naar een oranje scherm",
        blue_scheme: "Schakel over naar een blauw scherm",
        white_scheme: "Schakel over naar wit scherm",
        quit_desc: "Verbinding verbreken",
        serial_established: "Seriële verbinding tot stand gebracht",
        disconnected_success: "Succesvol verbroken",
        screenshot_saved: "Schermafbeelding opgeslagen: {bestandsnaam}",
        pixel_size: "Pixelgrootte: {grootte}",
        lcd_effect: "LCD-effect: {status}",
        lcd_on: "Aan",
        lcd_off: "Uit",
        colors_inverted: "Kleuren omgekeerd",
        color_changed: "Kleur: {kleur}",
        color_grey: "Grijs",
        color_orange: "Oranje",
        color_blue: "Blauw",
        color_white: "Wit",
        connection_error: "Verbindingsfout: {fout}",
        disconnection_error: "Verbindingsfout: {fout}",
        serial_read_error: "Seriële leesfout",
        web_serial_not_supported: "Web Serial API wordt niet ondersteund. Gebruik Chrome 89+ of Edge 89+",
        app_loaded: "Applicatie geladen. Klik op "Verbinden" om te starten.",
        help: "Help",
        toggle_theme: "Thema wisselen"
    }
};
